<transformation>
<info>
<name>uni7_lab1.2</name>
<description/>
<extended_description/>
<trans_version/>
<trans_type>Normal</trans_type>
<trans_status>0</trans_status>
<directory>/</directory>
<parameters> </parameters>
<log>
<trans-log-table>
<connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field>
<id>ID_BATCH</id>
<enabled>Y</enabled>
<name>ID_BATCH</name>
</field>
<field>
<id>CHANNEL_ID</id>
<enabled>Y</enabled>
<name>CHANNEL_ID</name>
</field>
<field>
<id>TRANSNAME</id>
<enabled>Y</enabled>
<name>TRANSNAME</name>
</field>
<field>
<id>STATUS</id>
<enabled>Y</enabled>
<name>STATUS</name>
</field>
<field>
<id>LINES_READ</id>
<enabled>Y</enabled>
<name>LINES_READ</name>
<subject/>
</field>
<field>
<id>LINES_WRITTEN</id>
<enabled>Y</enabled>
<name>LINES_WRITTEN</name>
<subject/>
</field>
<field>
<id>LINES_UPDATED</id>
<enabled>Y</enabled>
<name>LINES_UPDATED</name>
<subject/>
</field>
<field>
<id>LINES_INPUT</id>
<enabled>Y</enabled>
<name>LINES_INPUT</name>
<subject/>
</field>
<field>
<id>LINES_OUTPUT</id>
<enabled>Y</enabled>
<name>LINES_OUTPUT</name>
<subject/>
</field>
<field>
<id>LINES_REJECTED</id>
<enabled>Y</enabled>
<name>LINES_REJECTED</name>
<subject/>
</field>
<field>
<id>ERRORS</id>
<enabled>Y</enabled>
<name>ERRORS</name>
</field>
<field>
<id>STARTDATE</id>
<enabled>Y</enabled>
<name>STARTDATE</name>
</field>
<field>
<id>ENDDATE</id>
<enabled>Y</enabled>
<name>ENDDATE</name>
</field>
<field>
<id>LOGDATE</id>
<enabled>Y</enabled>
<name>LOGDATE</name>
</field>
<field>
<id>DEPDATE</id>
<enabled>Y</enabled>
<name>DEPDATE</name>
</field>
<field>
<id>REPLAYDATE</id>
<enabled>Y</enabled>
<name>REPLAYDATE</name>
</field>
<field>
<id>LOG_FIELD</id>
<enabled>Y</enabled>
<name>LOG_FIELD</name>
</field>
<field>
<id>EXECUTING_SERVER</id>
<enabled>N</enabled>
<name>EXECUTING_SERVER</name>
</field>
<field>
<id>EXECUTING_USER</id>
<enabled>N</enabled>
<name>EXECUTING_USER</name>
</field>
<field>
<id>CLIENT</id>
<enabled>N</enabled>
<name>CLIENT</name>
</field>
</trans-log-table>
<perf-log-table>
<connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field>
<id>ID_BATCH</id>
<enabled>Y</enabled>
<name>ID_BATCH</name>
</field>
<field>
<id>SEQ_NR</id>
<enabled>Y</enabled>
<name>SEQ_NR</name>
</field>
<field>
<id>LOGDATE</id>
<enabled>Y</enabled>
<name>LOGDATE</name>
</field>
<field>
<id>TRANSNAME</id>
<enabled>Y</enabled>
<name>TRANSNAME</name>
</field>
<field>
<id>STEPNAME</id>
<enabled>Y</enabled>
<name>STEPNAME</name>
</field>
<field>
<id>STEP_COPY</id>
<enabled>Y</enabled>
<name>STEP_COPY</name>
</field>
<field>
<id>LINES_READ</id>
<enabled>Y</enabled>
<name>LINES_READ</name>
</field>
<field>
<id>LINES_WRITTEN</id>
<enabled>Y</enabled>
<name>LINES_WRITTEN</name>
</field>
<field>
<id>LINES_UPDATED</id>
<enabled>Y</enabled>
<name>LINES_UPDATED</name>
</field>
<field>
<id>LINES_INPUT</id>
<enabled>Y</enabled>
<name>LINES_INPUT</name>
</field>
<field>
<id>LINES_OUTPUT</id>
<enabled>Y</enabled>
<name>LINES_OUTPUT</name>
</field>
<field>
<id>LINES_REJECTED</id>
<enabled>Y</enabled>
<name>LINES_REJECTED</name>
</field>
<field>
<id>ERRORS</id>
<enabled>Y</enabled>
<name>ERRORS</name>
</field>
<field>
<id>INPUT_BUFFER_ROWS</id>
<enabled>Y</enabled>
<name>INPUT_BUFFER_ROWS</name>
</field>
<field>
<id>OUTPUT_BUFFER_ROWS</id>
<enabled>Y</enabled>
<name>OUTPUT_BUFFER_ROWS</name>
</field>
</perf-log-table>
<channel-log-table>
<connection/>
<schema/>
<table/>
<timeout_days/>
<field>
<id>ID_BATCH</id>
<enabled>Y</enabled>
<name>ID_BATCH</name>
</field>
<field>
<id>CHANNEL_ID</id>
<enabled>Y</enabled>
<name>CHANNEL_ID</name>
</field>
<field>
<id>LOG_DATE</id>
<enabled>Y</enabled>
<name>LOG_DATE</name>
</field>
<field>
<id>LOGGING_OBJECT_TYPE</id>
<enabled>Y</enabled>
<name>LOGGING_OBJECT_TYPE</name>
</field>
<field>
<id>OBJECT_NAME</id>
<enabled>Y</enabled>
<name>OBJECT_NAME</name>
</field>
<field>
<id>OBJECT_COPY</id>
<enabled>Y</enabled>
<name>OBJECT_COPY</name>
</field>
<field>
<id>REPOSITORY_DIRECTORY</id>
<enabled>Y</enabled>
<name>REPOSITORY_DIRECTORY</name>
</field>
<field>
<id>FILENAME</id>
<enabled>Y</enabled>
<name>FILENAME</name>
</field>
<field>
<id>OBJECT_ID</id>
<enabled>Y</enabled>
<name>OBJECT_ID</name>
</field>
<field>
<id>OBJECT_REVISION</id>
<enabled>Y</enabled>
<name>OBJECT_REVISION</name>
</field>
<field>
<id>PARENT_CHANNEL_ID</id>
<enabled>Y</enabled>
<name>PARENT_CHANNEL_ID</name>
</field>
<field>
<id>ROOT_CHANNEL_ID</id>
<enabled>Y</enabled>
<name>ROOT_CHANNEL_ID</name>
</field>
</channel-log-table>
<step-log-table>
<connection/>
<schema/>
<table/>
<timeout_days/>
<field>
<id>ID_BATCH</id>
<enabled>Y</enabled>
<name>ID_BATCH</name>
</field>
<field>
<id>CHANNEL_ID</id>
<enabled>Y</enabled>
<name>CHANNEL_ID</name>
</field>
<field>
<id>LOG_DATE</id>
<enabled>Y</enabled>
<name>LOG_DATE</name>
</field>
<field>
<id>TRANSNAME</id>
<enabled>Y</enabled>
<name>TRANSNAME</name>
</field>
<field>
<id>STEPNAME</id>
<enabled>Y</enabled>
<name>STEPNAME</name>
</field>
<field>
<id>STEP_COPY</id>
<enabled>Y</enabled>
<name>STEP_COPY</name>
</field>
<field>
<id>LINES_READ</id>
<enabled>Y</enabled>
<name>LINES_READ</name>
</field>
<field>
<id>LINES_WRITTEN</id>
<enabled>Y</enabled>
<name>LINES_WRITTEN</name>
</field>
<field>
<id>LINES_UPDATED</id>
<enabled>Y</enabled>
<name>LINES_UPDATED</name>
</field>
<field>
<id>LINES_INPUT</id>
<enabled>Y</enabled>
<name>LINES_INPUT</name>
</field>
<field>
<id>LINES_OUTPUT</id>
<enabled>Y</enabled>
<name>LINES_OUTPUT</name>
</field>
<field>
<id>LINES_REJECTED</id>
<enabled>Y</enabled>
<name>LINES_REJECTED</name>
</field>
<field>
<id>ERRORS</id>
<enabled>Y</enabled>
<name>ERRORS</name>
</field>
<field>
<id>LOG_FIELD</id>
<enabled>N</enabled>
<name>LOG_FIELD</name>
</field>
</step-log-table>
<metrics-log-table>
<connection/>
<schema/>
<table/>
<timeout_days/>
<field>
<id>ID_BATCH</id>
<enabled>Y</enabled>
<name>ID_BATCH</name>
</field>
<field>
<id>CHANNEL_ID</id>
<enabled>Y</enabled>
<name>CHANNEL_ID</name>
</field>
<field>
<id>LOG_DATE</id>
<enabled>Y</enabled>
<name>LOG_DATE</name>
</field>
<field>
<id>METRICS_DATE</id>
<enabled>Y</enabled>
<name>METRICS_DATE</name>
</field>
<field>
<id>METRICS_CODE</id>
<enabled>Y</enabled>
<name>METRICS_CODE</name>
</field>
<field>
<id>METRICS_DESCRIPTION</id>
<enabled>Y</enabled>
<name>METRICS_DESCRIPTION</name>
</field>
<field>
<id>METRICS_SUBJECT</id>
<enabled>Y</enabled>
<name>METRICS_SUBJECT</name>
</field>
<field>
<id>METRICS_TYPE</id>
<enabled>Y</enabled>
<name>METRICS_TYPE</name>
</field>
<field>
<id>METRICS_VALUE</id>
<enabled>Y</enabled>
<name>METRICS_VALUE</name>
</field>
</metrics-log-table>
</log>
<maxdate>
<connection/>
<table/>
<field/>
<offset>0.0</offset>
<maxdiff>0.0</maxdiff>
</maxdate>
<size_rowset>10000</size_rowset>
<sleep_time_empty>50</sleep_time_empty>
<sleep_time_full>50</sleep_time_full>
<unique_connections>N</unique_connections>
<feedback_shown>Y</feedback_shown>
<feedback_size>50000</feedback_size>
<using_thread_priorities>Y</using_thread_priorities>
<shared_objects_file/>
<capture_step_performance>N</capture_step_performance>
<step_performance_capturing_delay>1000</step_performance_capturing_delay>
<step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
<dependencies> </dependencies>
<partitionschemas> </partitionschemas>
<slaveservers> </slaveservers>
<clusterschemas> </clusterschemas>
<created_user>-</created_user>
<created_date>2018/06/07 18:38:41.574</created_date>
<modified_user>-</modified_user>
<modified_date>2018/06/07 18:38:41.574</modified_date>
<key_for_session_key>H4sIAAAAAAAAAAMAAAAAAAAAAAA=</key_for_session_key>
<is_key_private>N</is_key_private>
</info>
<notepads>
<notepad>
<note>
CREATE TABLE dimensao_ano_mes ( ano smallint ,mes smallint ,valor DOUBLE PRECISION ,quantidade BIGINT );
</note>
<xloc>976</xloc>
<yloc>16</yloc>
<width>231</width>
<heigth>106</heigth>
<fontname>.SF NS Text</fontname>
<fontsize>13</fontsize>
<fontbold>N</fontbold>
<fontitalic>N</fontitalic>
<fontcolorred>0</fontcolorred>
<fontcolorgreen>0</fontcolorgreen>
<fontcolorblue>0</fontcolorblue>
<backgroundcolorred>255</backgroundcolorred>
<backgroundcolorgreen>205</backgroundcolorgreen>
<backgroundcolorblue>112</backgroundcolorblue>
<bordercolorred>100</bordercolorred>
<bordercolorgreen>100</bordercolorgreen>
<bordercolorblue>100</bordercolorblue>
<drawshadow>Y</drawshadow>
</notepad>
<notepad>
<note>
CREATE TABLE dimensao_loja_vendedor ( vendedorid BIGINT ,vendedor VARCHAR(255) ,lojaid BIGINT ,loja VARCHAR(255) ,quantidade BIGINT ,valor DOUBLE PRECISION );
</note>
<xloc>976</xloc>
<yloc>192</yloc>
<width>261</width>
<heigth>138</heigth>
<fontname>.SF NS Text</fontname>
<fontsize>13</fontsize>
<fontbold>N</fontbold>
<fontitalic>N</fontitalic>
<fontcolorred>0</fontcolorred>
<fontcolorgreen>0</fontcolorgreen>
<fontcolorblue>0</fontcolorblue>
<backgroundcolorred>255</backgroundcolorred>
<backgroundcolorgreen>205</backgroundcolorgreen>
<backgroundcolorblue>112</backgroundcolorblue>
<bordercolorred>100</bordercolorred>
<bordercolorgreen>100</bordercolorgreen>
<bordercolorblue>100</bordercolorblue>
<drawshadow>Y</drawshadow>
</notepad>
<notepad>
<note>
CREATE TABLE dimensao_categoria ( categoria varchar(255) ,id BIGINT ,valor DOUBLE PRECISION );
</note>
<xloc>976</xloc>
<yloc>384</yloc>
<width>235</width>
<heigth>90</heigth>
<fontname>.SF NS Text</fontname>
<fontsize>13</fontsize>
<fontbold>N</fontbold>
<fontitalic>N</fontitalic>
<fontcolorred>0</fontcolorred>
<fontcolorgreen>0</fontcolorgreen>
<fontcolorblue>0</fontcolorblue>
<backgroundcolorred>255</backgroundcolorred>
<backgroundcolorgreen>205</backgroundcolorgreen>
<backgroundcolorblue>112</backgroundcolorblue>
<bordercolorred>100</bordercolorred>
<bordercolorgreen>100</bordercolorgreen>
<bordercolorblue>100</bordercolorblue>
<drawshadow>Y</drawshadow>
</notepad>
</notepads>
<connection>
<name>UNI7</name>
<server>localhost</server>
<type>POSTGRESQL</type>
<access>Native</access>
<database>UNI7</database>
<port>5432</port>
<username>postgres</username>
<password>Encrypted 2be98afc86aa7f2e4bb16bd64d980aac9</password>
<servername/>
<data_tablespace/>
<index_tablespace/>
<attributes>
<attribute>
<code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
<attribute>N</attribute>
</attribute>
<attribute>
<code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
<attribute>N</attribute>
</attribute>
<attribute>
<code>IS_CLUSTERED</code>
<attribute>N</attribute>
</attribute>
<attribute>
<code>PORT_NUMBER</code>
<attribute>5432</attribute>
</attribute>
<attribute>
<code>PRESERVE_RESERVED_WORD_CASE</code>
<attribute>Y</attribute>
</attribute>
<attribute>
<code>QUOTE_ALL_FIELDS</code>
<attribute>N</attribute>
</attribute>
<attribute>
<code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
<attribute>Y</attribute>
</attribute>
<attribute>
<code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
<attribute>Y</attribute>
</attribute>
<attribute>
<code>USE_POOLING</code>
<attribute>N</attribute>
</attribute>
</attributes>
</connection>
<order>
<hop>
<from>CSV file input - Locacao.csv</from>
<to>Calculator - Ano e Mes</to>
<enabled>Y</enabled>
</hop>
<hop>
<from>Sort rows - Ano e Mes</from>
<to>Group by - Ano e Mes</to>
<enabled>Y</enabled>
</hop>
<hop>
<from>Calculator - Ano e Mes</from>
<to>Sort rows - Ano e Mes</to>
<enabled>Y</enabled>
</hop>
<hop>
<from>Group by - Ano e Mes</from>
<to>Table output - dimensao_ano_mes</to>
<enabled>Y</enabled>
</hop>
<hop>
<from>CSV file input - Locacao.csv</from>
<to>Sort rows - vendedorid</to>
<enabled>Y</enabled>
</hop>
<hop>
<from>Sort rows - vendedorid</from>
<to>Merge Join - Locacao e Vendedor</to>
<enabled>Y</enabled>
</hop>
<hop>
<from>CSV file input - Vendedor.csv</from>
<to>Sort rows - id (vendedor)</to>
<enabled>Y</enabled>
</hop>
<hop>
<from>Sort rows - id (vendedor)</from>
<to>Merge Join - Locacao e Vendedor</to>
<enabled>Y</enabled>
</hop>
<hop>
<from>CSV file input - Loja.csv</from>
<to>Sort rows - id (loja)</to>
<enabled>Y</enabled>
</hop>
<hop>
<from>Sort rows - id (loja)</from>
<to>Merge Join - Locacao, Vendedor e Loja</to>
<enabled>Y</enabled>
</hop>
<hop>
<from>Merge Join - Locacao e Vendedor</from>
<to>Sort rows - lojaid</to>
<enabled>Y</enabled>
</hop>
<hop>
<from>Sort rows - lojaid</from>
<to>Merge Join - Locacao, Vendedor e Loja</to>
<enabled>Y</enabled>
</hop>
<hop>
<from>Merge Join - Locacao, Vendedor e Loja</from>
<to>Sort rows - vendedorid e lojaid</to>
<enabled>Y</enabled>
</hop>
<hop>
<from>Sort rows - vendedorid e lojaid</from>
<to>Group by - vendedor e loja</to>
<enabled>Y</enabled>
</hop>
<hop>
<from>Group by - vendedor e loja</from>
<to>Table output - dimensao_loja_vendedor</to>
<enabled>Y</enabled>
</hop>
<hop>
<from>CSV file input - Locacao.csv</from>
<to>Split field to rows</to>
<enabled>Y</enabled>
</hop>
<hop>
<from>Split field to rows</from>
<to>Sort rows - categoria</to>
<enabled>Y</enabled>
</hop>
<hop>
<from>Sort rows - categoria</from>
<to>Group by - categoria</to>
<enabled>Y</enabled>
</hop>
<hop>
<from>Group by - categoria</from>
<to>Table output - dimensao_categoria</to>
<enabled>Y</enabled>
</hop>
</order>
<step>
<name>CSV file input - Locacao.csv</name>
<type>CsvInput</type>
<description/>
<distribute>N</distribute>
<custom_distribution/>
<copies>1</copies>
<partitioning>
<method>none</method>
<schema_name/>
</partitioning>
<filename>${Internal.Entry.Current.Directory}/Locacao.csv</filename>
<filename_field/>
<rownum_field/>
<include_filename>N</include_filename>
<separator>,</separator>
<enclosure>"</enclosure>
<header>Y</header>
<buffer_size>50000</buffer_size>
<lazy_conversion>Y</lazy_conversion>
<add_filename_result>N</add_filename_result>
<parallel>N</parallel>
<newline_possible>N</newline_possible>
<encoding/>
<fields>
<field>
<name>id</name>
<type>Integer</type>
<format>#</format>
<currency>BRL</currency>
<decimal>.</decimal>
<group>,</group>
<length>15</length>
<precision>0</precision>
<trim_type>none</trim_type>
</field>
<field>
<name>filme</name>
<type>String</type>
<format/>
<currency>BRL</currency>
<decimal>.</decimal>
<group>,</group>
<length>96</length>
<precision>-1</precision>
<trim_type>none</trim_type>
</field>
<field>
<name>genero</name>
<type>String</type>
<format/>
<currency>BRL</currency>
<decimal>.</decimal>
<group>,</group>
<length>48</length>
<precision>-1</precision>
<trim_type>none</trim_type>
</field>
<field>
<name>datalocacao</name>
<type>Date</type>
<format>MM/dd/yyyy</format>
<currency>BRL</currency>
<decimal>.</decimal>
<group>,</group>
<length>-1</length>
<precision>-1</precision>
<trim_type>none</trim_type>
</field>
<field>
<name>vendedorid</name>
<type>Integer</type>
<format>#</format>
<currency>BRL</currency>
<decimal>.</decimal>
<group>,</group>
<length>15</length>
<precision>0</precision>
<trim_type>none</trim_type>
</field>
<field>
<name>valor</name>
<type>Number</type>
<format>#.#</format>
<currency>BRL</currency>
<decimal>.</decimal>
<group>,</group>
<length>4</length>
<precision>2</precision>
<trim_type>none</trim_type>
</field>
</fields>
<cluster_schema/>
<remotesteps>
<input> </input>
<output> </output>
</remotesteps>
<GUI>
<xloc>96</xloc>
<yloc>48</yloc>
<draw>Y</draw>
</GUI>
</step>
<step>
<name>CSV file input - Loja.csv</name>
<type>CsvInput</type>
<description/>
<distribute>Y</distribute>
<custom_distribution/>
<copies>1</copies>
<partitioning>
<method>none</method>
<schema_name/>
</partitioning>
<filename>${Internal.Entry.Current.Directory}/Loja.csv</filename>
<filename_field/>
<rownum_field/>
<include_filename>N</include_filename>
<separator>,</separator>
<enclosure>"</enclosure>
<header>Y</header>
<buffer_size>50000</buffer_size>
<lazy_conversion>Y</lazy_conversion>
<add_filename_result>N</add_filename_result>
<parallel>N</parallel>
<newline_possible>N</newline_possible>
<encoding/>
<fields>
<field>
<name>id</name>
<type>Integer</type>
<format>#</format>
<currency>BRL</currency>
<decimal>.</decimal>
<group>,</group>
<length>15</length>
<precision>0</precision>
<trim_type>none</trim_type>
</field>
<field>
<name>loja</name>
<type>String</type>
<format/>
<currency>BRL</currency>
<decimal>.</decimal>
<group>,</group>
<length>16</length>
<precision>-1</precision>
<trim_type>none</trim_type>
</field>
</fields>
<cluster_schema/>
<remotesteps>
<input> </input>
<output> </output>
</remotesteps>
<GUI>
<xloc>96</xloc>
<yloc>304</yloc>
<draw>Y</draw>
</GUI>
</step>
<step>
<name>CSV file input - Vendedor.csv</name>
<type>CsvInput</type>
<description/>
<distribute>Y</distribute>
<custom_distribution/>
<copies>1</copies>
<partitioning>
<method>none</method>
<schema_name/>
</partitioning>
<filename>${Internal.Entry.Current.Directory}/Vendedor.csv</filename>
<filename_field/>
<rownum_field/>
<include_filename>N</include_filename>
<separator>,</separator>
<enclosure>"</enclosure>
<header>Y</header>
<buffer_size>50000</buffer_size>
<lazy_conversion>Y</lazy_conversion>
<add_filename_result>N</add_filename_result>
<parallel>N</parallel>
<newline_possible>N</newline_possible>
<encoding/>
<fields>
<field>
<name>id</name>
<type>Integer</type>
<format>#</format>
<currency>BRL</currency>
<decimal>.</decimal>
<group>,</group>
<length>15</length>
<precision>0</precision>
<trim_type>none</trim_type>
</field>
<field>
<name>vendedor</name>
<type>String</type>
<format/>
<currency>BRL</currency>
<decimal>.</decimal>
<group>,</group>
<length>17</length>
<precision>-1</precision>
<trim_type>none</trim_type>
</field>
<field>
<name>lojaid</name>
<type>Integer</type>
<format>#</format>
<currency>BRL</currency>
<decimal>.</decimal>
<group>,</group>
<length>15</length>
<precision>0</precision>
<trim_type>none</trim_type>
</field>
</fields>
<cluster_schema/>
<remotesteps>
<input> </input>
<output> </output>
</remotesteps>
<GUI>
<xloc>96</xloc>
<yloc>224</yloc>
<draw>Y</draw>
</GUI>
</step>
<step>
<name>Calculator - Ano e Mes</name>
<type>Calculator</type>
<description/>
<distribute>Y</distribute>
<custom_distribution/>
<copies>1</copies>
<partitioning>
<method>none</method>
<schema_name/>
</partitioning>
<calculation>
<field_name>ano</field_name>
<calc_type>YEAR_OF_DATE</calc_type>
<field_a>datalocacao</field_a>
<field_b/>
<field_c/>
<value_type>Integer</value_type>
<value_length>-1</value_length>
<value_precision>0</value_precision>
<remove>N</remove>
<conversion_mask/>
<decimal_symbol/>
<grouping_symbol/>
<currency_symbol/>
</calculation>
<calculation>
<field_name>mes</field_name>
<calc_type>MONTH_OF_DATE</calc_type>
<field_a>datalocacao</field_a>
<field_b/>
<field_c/>
<value_type>Integer</value_type>
<value_length>-1</value_length>
<value_precision>0</value_precision>
<remove>N</remove>
<conversion_mask/>
<decimal_symbol/>
<grouping_symbol/>
<currency_symbol/>
</calculation>
<cluster_schema/>
<remotesteps>
<input> </input>
<output> </output>
</remotesteps>
<GUI>
<xloc>288</xloc>
<yloc>48</yloc>
<draw>Y</draw>
</GUI>
</step>
<step>
<name>Group by - Ano e Mes</name>
<type>GroupBy</type>
<description/>
<distribute>Y</distribute>
<custom_distribution/>
<copies>1</copies>
<partitioning>
<method>none</method>
<schema_name/>
</partitioning>
<all_rows>N</all_rows>
<ignore_aggregate>N</ignore_aggregate>
<field_ignore/>
<directory>%%java.io.tmpdir%%</directory>
<prefix>grp</prefix>
<add_linenr>N</add_linenr>
<linenr_fieldname/>
<give_back_row>N</give_back_row>
<group>
<field>
<name>ano</name>
</field>
<field>
<name>mes</name>
</field>
</group>
<fields>
<field>
<aggregate>valor</aggregate>
<subject>valor</subject>
<type>SUM</type>
<valuefield/>
</field>
<field>
<aggregate>quantidade</aggregate>
<subject>id</subject>
<type>COUNT_ALL</type>
<valuefield/>
</field>
</fields>
<cluster_schema/>
<remotesteps>
<input> </input>
<output> </output>
</remotesteps>
<GUI>
<xloc>640</xloc>
<yloc>48</yloc>
<draw>Y</draw>
</GUI>
</step>
<step>
<name>Group by - categoria</name>
<type>GroupBy</type>
<description/>
<distribute>Y</distribute>
<custom_distribution/>
<copies>1</copies>
<partitioning>
<method>none</method>
<schema_name/>
</partitioning>
<all_rows>N</all_rows>
<ignore_aggregate>N</ignore_aggregate>
<field_ignore/>
<directory>%%java.io.tmpdir%%</directory>
<prefix>grp</prefix>
<add_linenr>N</add_linenr>
<linenr_fieldname/>
<give_back_row>N</give_back_row>
<group>
<field>
<name>categoria</name>
</field>
</group>
<fields>
<field>
<aggregate>id</aggregate>
<subject>id</subject>
<type>COUNT_ALL</type>
<valuefield/>
</field>
<field>
<aggregate>valor</aggregate>
<subject>valor</subject>
<type>SUM</type>
<valuefield/>
</field>
</fields>
<cluster_schema/>
<remotesteps>
<input> </input>
<output> </output>
</remotesteps>
<GUI>
<xloc>640</xloc>
<yloc>400</yloc>
<draw>Y</draw>
</GUI>
</step>
<step>
<name>Group by - vendedor e loja</name>
<type>GroupBy</type>
<description/>
<distribute>Y</distribute>
<custom_distribution/>
<copies>1</copies>
<partitioning>
<method>none</method>
<schema_name/>
</partitioning>
<all_rows>N</all_rows>
<ignore_aggregate>N</ignore_aggregate>
<field_ignore/>
<directory>%%java.io.tmpdir%%</directory>
<prefix>grp</prefix>
<add_linenr>N</add_linenr>
<linenr_fieldname/>
<give_back_row>N</give_back_row>
<group>
<field>
<name>vendedorid</name>
</field>
<field>
<name>vendedor</name>
</field>
<field>
<name>lojaid</name>
</field>
<field>
<name>loja</name>
</field>
</group>
<fields>
<field>
<aggregate>quantidade</aggregate>
<subject>id</subject>
<type>COUNT_ALL</type>
<valuefield/>
</field>
<field>
<aggregate>valor</aggregate>
<subject>valor</subject>
<type>SUM</type>
<valuefield/>
</field>
</fields>
<cluster_schema/>
<remotesteps>
<input> </input>
<output> </output>
</remotesteps>
<GUI>
<xloc>832</xloc>
<yloc>224</yloc>
<draw>Y</draw>
</GUI>
</step>
<step>
<name>Merge Join - Locacao e Vendedor</name>
<type>MergeJoin</type>
<description/>
<distribute>Y</distribute>
<custom_distribution/>
<copies>1</copies>
<partitioning>
<method>none</method>
<schema_name/>
</partitioning>
<join_type>LEFT OUTER</join_type>
<step1>Sort rows - vendedorid</step1>
<step2>Sort rows - id (vendedor)</step2>
<keys_1>
<key>vendedorid</key>
</keys_1>
<keys_2>
<key>id</key>
</keys_2>
<cluster_schema/>
<remotesteps>
<input> </input>
<output> </output>
</remotesteps>
<GUI>
<xloc>560</xloc>
<yloc>128</yloc>
<draw>Y</draw>
</GUI>
</step>
<step>
<name>Merge Join - Locacao, Vendedor e Loja</name>
<type>MergeJoin</type>
<description/>
<distribute>Y</distribute>
<custom_distribution/>
<copies>1</copies>
<partitioning>
<method>none</method>
<schema_name/>
</partitioning>
<join_type>LEFT OUTER</join_type>
<step1>Sort rows - lojaid</step1>
<step2>Sort rows - id (loja)</step2>
<keys_1>
<key>lojaid</key>
</keys_1>
<keys_2>
<key>id</key>
</keys_2>
<cluster_schema/>
<remotesteps>
<input> </input>
<output> </output>
</remotesteps>
<GUI>
<xloc>560</xloc>
<yloc>304</yloc>
<draw>Y</draw>
</GUI>
</step>
<step>
<name>Sort rows - Ano e Mes</name>
<type>SortRows</type>
<description/>
<distribute>Y</distribute>
<custom_distribution/>
<copies>1</copies>
<partitioning>
<method>none</method>
<schema_name/>
</partitioning>
<directory>%%java.io.tmpdir%%</directory>
<prefix>out</prefix>
<sort_size>1000000</sort_size>
<free_memory/>
<compress>N</compress>
<compress_variable/>
<unique_rows>N</unique_rows>
<fields>
<field>
<name>ano</name>
<ascending>Y</ascending>
<case_sensitive>N</case_sensitive>
<collator_enabled>N</collator_enabled>
<collator_strength>0</collator_strength>
<presorted>N</presorted>
</field>
<field>
<name>mes</name>
<ascending>Y</ascending>
<case_sensitive>N</case_sensitive>
<collator_enabled>N</collator_enabled>
<collator_strength>0</collator_strength>
<presorted>N</presorted>
</field>
</fields>
<cluster_schema/>
<remotesteps>
<input> </input>
<output> </output>
</remotesteps>
<GUI>
<xloc>464</xloc>
<yloc>48</yloc>
<draw>Y</draw>
</GUI>
</step>
<step>
<name>Sort rows - categoria</name>
<type>SortRows</type>
<description/>
<distribute>Y</distribute>
<custom_distribution/>
<copies>1</copies>
<partitioning>
<method>none</method>
<schema_name/>
</partitioning>
<directory>%%java.io.tmpdir%%</directory>
<prefix>out</prefix>
<sort_size>1000000</sort_size>
<free_memory/>
<compress>N</compress>
<compress_variable/>
<unique_rows>N</unique_rows>
<fields>
<field>
<name>categoria</name>
<ascending>Y</ascending>
<case_sensitive>N</case_sensitive>
<collator_enabled>N</collator_enabled>
<collator_strength>0</collator_strength>
<presorted>N</presorted>
</field>
</fields>
<cluster_schema/>
<remotesteps>
<input> </input>
<output> </output>
</remotesteps>
<GUI>
<xloc>464</xloc>
<yloc>400</yloc>
<draw>Y</draw>
</GUI>
</step>
<step>
<name>Sort rows - id (loja)</name>
<type>SortRows</type>
<description/>
<distribute>Y</distribute>
<custom_distribution/>
<copies>1</copies>
<partitioning>
<method>none</method>
<schema_name/>
</partitioning>
<directory>%%java.io.tmpdir%%</directory>
<prefix>out</prefix>
<sort_size>1000000</sort_size>
<free_memory/>
<compress>N</compress>
<compress_variable/>
<unique_rows>N</unique_rows>
<fields>
<field>
<name>id</name>
<ascending>Y</ascending>
<case_sensitive>N</case_sensitive>
<collator_enabled>N</collator_enabled>
<collator_strength>0</collator_strength>
<presorted>N</presorted>
</field>
</fields>
<cluster_schema/>
<remotesteps>
<input> </input>
<output> </output>
</remotesteps>
<GUI>
<xloc>288</xloc>
<yloc>304</yloc>
<draw>Y</draw>
</GUI>
</step>
<step>
<name>Sort rows - id (vendedor)</name>
<type>SortRows</type>
<description/>
<distribute>Y</distribute>
<custom_distribution/>
<copies>1</copies>
<partitioning>
<method>none</method>
<schema_name/>
</partitioning>
<directory>%%java.io.tmpdir%%</directory>
<prefix>out</prefix>
<sort_size>1000000</sort_size>
<free_memory/>
<compress>N</compress>
<compress_variable/>
<unique_rows>N</unique_rows>
<fields>
<field>
<name>id</name>
<ascending>Y</ascending>
<case_sensitive>N</case_sensitive>
<collator_enabled>N</collator_enabled>
<collator_strength>0</collator_strength>
<presorted>N</presorted>
</field>
</fields>
<cluster_schema/>
<remotesteps>
<input> </input>
<output> </output>
</remotesteps>
<GUI>
<xloc>288</xloc>
<yloc>224</yloc>
<draw>Y</draw>
</GUI>
</step>
<step>
<name>Sort rows - lojaid</name>
<type>SortRows</type>
<description/>
<distribute>Y</distribute>
<custom_distribution/>
<copies>1</copies>
<partitioning>
<method>none</method>
<schema_name/>
</partitioning>
<directory>%%java.io.tmpdir%%</directory>
<prefix>out</prefix>
<sort_size>1000000</sort_size>
<free_memory/>
<compress>N</compress>
<compress_variable/>
<unique_rows>N</unique_rows>
<fields>
<field>
<name>lojaid</name>
<ascending>Y</ascending>
<case_sensitive>N</case_sensitive>
<collator_enabled>N</collator_enabled>
<collator_strength>0</collator_strength>
<presorted>N</presorted>
</field>
</fields>
<cluster_schema/>
<remotesteps>
<input> </input>
<output> </output>
</remotesteps>
<GUI>
<xloc>560</xloc>
<yloc>224</yloc>
<draw>Y</draw>
</GUI>
</step>
<step>
<name>Sort rows - vendedorid</name>
<type>SortRows</type>
<description/>
<distribute>Y</distribute>
<custom_distribution/>
<copies>1</copies>
<partitioning>
<method>none</method>
<schema_name/>
</partitioning>
<directory>%%java.io.tmpdir%%</directory>
<prefix>out</prefix>
<sort_size>1000000</sort_size>
<free_memory/>
<compress>N</compress>
<compress_variable/>
<unique_rows>N</unique_rows>
<fields>
<field>
<name>vendedorid</name>
<ascending>Y</ascending>
<case_sensitive>N</case_sensitive>
<collator_enabled>N</collator_enabled>
<collator_strength>0</collator_strength>
<presorted>N</presorted>
</field>
</fields>
<cluster_schema/>
<remotesteps>
<input> </input>
<output> </output>
</remotesteps>
<GUI>
<xloc>288</xloc>
<yloc>128</yloc>
<draw>Y</draw>
</GUI>
</step>
<step>
<name>Sort rows - vendedorid e lojaid</name>
<type>SortRows</type>
<description/>
<distribute>Y</distribute>
<custom_distribution/>
<copies>1</copies>
<partitioning>
<method>none</method>
<schema_name/>
</partitioning>
<directory>%%java.io.tmpdir%%</directory>
<prefix>out</prefix>
<sort_size>1000000</sort_size>
<free_memory/>
<compress>N</compress>
<compress_variable/>
<unique_rows>N</unique_rows>
<fields>
<field>
<name>vendedorid</name>
<ascending>Y</ascending>
<case_sensitive>N</case_sensitive>
<collator_enabled>N</collator_enabled>
<collator_strength>0</collator_strength>
<presorted>N</presorted>
</field>
<field>
<name>vendedor</name>
<ascending>Y</ascending>
<case_sensitive>N</case_sensitive>
<collator_enabled>N</collator_enabled>
<collator_strength>0</collator_strength>
<presorted>N</presorted>
</field>
<field>
<name>lojaid</name>
<ascending>Y</ascending>
<case_sensitive>N</case_sensitive>
<collator_enabled>N</collator_enabled>
<collator_strength>0</collator_strength>
<presorted>N</presorted>
</field>
<field>
<name>loja</name>
<ascending>Y</ascending>
<case_sensitive>N</case_sensitive>
<collator_enabled>N</collator_enabled>
<collator_strength>0</collator_strength>
<presorted>N</presorted>
</field>
</fields>
<cluster_schema/>
<remotesteps>
<input> </input>
<output> </output>
</remotesteps>
<GUI>
<xloc>832</xloc>
<yloc>128</yloc>
<draw>Y</draw>
</GUI>
</step>
<step>
<name>Split field to rows</name>
<type>SplitFieldToRows3</type>
<description/>
<distribute>Y</distribute>
<custom_distribution/>
<copies>1</copies>
<partitioning>
<method>none</method>
<schema_name/>
</partitioning>
<splitfield>genero</splitfield>
<delimiter>|</delimiter>
<newfield>categoria</newfield>
<rownum>N</rownum>
<rownum_field/>
<resetrownumber>Y</resetrownumber>
<delimiter_is_regex>N</delimiter_is_regex>
<cluster_schema/>
<remotesteps>
<input> </input>
<output> </output>
</remotesteps>
<GUI>
<xloc>288</xloc>
<yloc>400</yloc>
<draw>Y</draw>
</GUI>
</step>
<step>
<name>Table output - dimensao_ano_mes</name>
<type>TableOutput</type>
<description/>
<distribute>Y</distribute>
<custom_distribution/>
<copies>1</copies>
<partitioning>
<method>none</method>
<schema_name/>
</partitioning>
<connection>UNI7</connection>
<schema/>
<table>dimensao_ano_mes</table>
<commit>1000</commit>
<truncate>Y</truncate>
<ignore_errors>N</ignore_errors>
<use_batch>Y</use_batch>
<specify_fields>Y</specify_fields>
<partitioning_enabled>N</partitioning_enabled>
<partitioning_field/>
<partitioning_daily>N</partitioning_daily>
<partitioning_monthly>Y</partitioning_monthly>
<tablename_in_field>N</tablename_in_field>
<tablename_field/>
<tablename_in_table>Y</tablename_in_table>
<return_keys>N</return_keys>
<return_field/>
<fields>
<field>
<column_name>ano</column_name>
<stream_name>ano</stream_name>
</field>
<field>
<column_name>mes</column_name>
<stream_name>mes</stream_name>
</field>
<field>
<column_name>valor</column_name>
<stream_name>valor</stream_name>
</field>
<field>
<column_name>quantidade</column_name>
<stream_name>quantidade</stream_name>
</field>
</fields>
<cluster_schema/>
<remotesteps>
<input> </input>
<output> </output>
</remotesteps>
<GUI>
<xloc>832</xloc>
<yloc>48</yloc>
<draw>Y</draw>
</GUI>
</step>
<step>
<name>Table output - dimensao_categoria</name>
<type>TableOutput</type>
<description/>
<distribute>Y</distribute>
<custom_distribution/>
<copies>1</copies>
<partitioning>
<method>none</method>
<schema_name/>
</partitioning>
<connection>UNI7</connection>
<schema/>
<table>dimensao_categoria</table>
<commit>1000</commit>
<truncate>Y</truncate>
<ignore_errors>N</ignore_errors>
<use_batch>Y</use_batch>
<specify_fields>Y</specify_fields>
<partitioning_enabled>N</partitioning_enabled>
<partitioning_field/>
<partitioning_daily>N</partitioning_daily>
<partitioning_monthly>Y</partitioning_monthly>
<tablename_in_field>N</tablename_in_field>
<tablename_field/>
<tablename_in_table>Y</tablename_in_table>
<return_keys>N</return_keys>
<return_field/>
<fields>
<field>
<column_name>categoria</column_name>
<stream_name>categoria</stream_name>
</field>
<field>
<column_name>id</column_name>
<stream_name>id</stream_name>
</field>
<field>
<column_name>valor</column_name>
<stream_name>valor</stream_name>
</field>
</fields>
<cluster_schema/>
<remotesteps>
<input> </input>
<output> </output>
</remotesteps>
<GUI>
<xloc>832</xloc>
<yloc>400</yloc>
<draw>Y</draw>
</GUI>
</step>
<step>
<name>Table output - dimensao_loja_vendedor</name>
<type>TableOutput</type>
<description/>
<distribute>Y</distribute>
<custom_distribution/>
<copies>1</copies>
<partitioning>
<method>none</method>
<schema_name/>
</partitioning>
<connection>UNI7</connection>
<schema/>
<table>dimensao_loja_vendedor</table>
<commit>1000</commit>
<truncate>Y</truncate>
<ignore_errors>N</ignore_errors>
<use_batch>Y</use_batch>
<specify_fields>Y</specify_fields>
<partitioning_enabled>N</partitioning_enabled>
<partitioning_field/>
<partitioning_daily>N</partitioning_daily>
<partitioning_monthly>Y</partitioning_monthly>
<tablename_in_field>N</tablename_in_field>
<tablename_field/>
<tablename_in_table>Y</tablename_in_table>
<return_keys>N</return_keys>
<return_field/>
<fields>
<field>
<column_name>vendedorid</column_name>
<stream_name>vendedorid</stream_name>
</field>
<field>
<column_name>vendedor</column_name>
<stream_name>vendedor</stream_name>
</field>
<field>
<column_name>lojaid</column_name>
<stream_name>lojaid</stream_name>
</field>
<field>
<column_name>loja</column_name>
<stream_name>loja</stream_name>
</field>
<field>
<column_name>quantidade</column_name>
<stream_name>quantidade</stream_name>
</field>
<field>
<column_name>valor</column_name>
<stream_name>valor</stream_name>
</field>
</fields>
<cluster_schema/>
<remotesteps>
<input> </input>
<output> </output>
</remotesteps>
<GUI>
<xloc>832</xloc>
<yloc>304</yloc>
<draw>Y</draw>
</GUI>
</step>
<step_error_handling> </step_error_handling>
<slave-step-copy-partition-distribution> </slave-step-copy-partition-distribution>
<slave_transformation>N</slave_transformation>
</transformation>